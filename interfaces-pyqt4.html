
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les bases de la programmation des interfaces graphiques avec Qt4 et PyQt4 &#8212; Cours Python</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/my-styles.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/translations.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Premier bouton avec PyQt4" href="boutons-pyqt4.html" />
    <link rel="prev" title="Interfaces graphiques avec Qt4 et PyQt4" href="interface-graphique-pyqt4.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

<!-- Ajout DC pour Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-35563429-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- End Google Analytics -->

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://www.courspython.com/">
          CoursPython</a>
<!--        <span class="navbar-text navbar-version pull-left"><b>2</b></span>
 -->
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="sommaire.html">Sommaire</a></li>
                <li><a href="genindex.html">Index</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="sommaire.html">Plan <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="bases-python.html">Bases de Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction-python.html">Introduction à Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="tests.html">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="boucles.html">Boucles</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">Principaux types de données</a></li>
<li class="toctree-l2"><a class="reference internal" href="tuple.html">Tuples en Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="dictionnaire.html">Dictionnaires en Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonctions.html">Fonctions en Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html">Modules et importations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apprendre-numpy.html">Introduction à NumPy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="apprendre-numpy.html#variables-predefinies">Variables prédéfinies</a></li>
<li class="toctree-l2"><a class="reference internal" href="apprendre-numpy.html#tableaux-numpy-array">Tableaux - <code class="xref std std-keyword docutils literal notranslate"><span class="pre">numpy.array()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="apprendre-numpy.html#la-fonction-numpy-arange">La fonction <code class="xref std std-keyword docutils literal notranslate"><span class="pre">numpy.arange()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="apprendre-numpy.html#la-fonction-numpy-linspace">La fonction <code class="xref std std-keyword docutils literal notranslate"><span class="pre">numpy.linspace()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="apprendre-numpy.html#action-d-une-fonction-mathematique-sur-un-tableau">Action d’une fonction mathématique sur un tableau</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fonctions-mathematiques-numpy.html">Fonctions mathématiques</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fonctions-mathematiques-numpy.html#fonctions-trigonometriques">Fonctions trigonométriques</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonctions-mathematiques-numpy.html#fonctions-hyperboliques">Fonctions hyperboliques</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonctions-mathematiques-numpy.html#fonctions-diverses">Fonctions diverses</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonctions-mathematiques-numpy.html#fonctions-utiles-pour-les-nombres-complexes">Fonctions utiles pour les nombres complexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonctions-mathematiques-numpy.html#arrondis">Arrondis</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonctions-mathematiques-numpy.html#nombres-aleatoires">Nombres aléatoires</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="introduction-courbes.html">Tracé de courbes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction-courbes.html#creation-d-une-courbe">Création d’une courbe</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction-courbes.html#affichage-de-plusieurs-courbes">Affichage de plusieurs courbes</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction-courbes.html#formats-de-courbes">Formats de courbes</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction-courbes.html#trace-de-formes">Tracé de formes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tableaux-numpy.html">Tableaux et calcul matriciel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tableaux-numpy.html#tableaux-numpy-array">Tableaux - <code class="xref std std-keyword docutils literal notranslate"><span class="pre">numpy.array()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tableaux-numpy.html#tableaux-et-slicing">Tableaux et slicing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tableaux-numpy.html#algebre-lineaire">Algèbre linéaire</a></li>
<li class="toctree-l2"><a class="reference internal" href="tableaux-numpy.html#changement-de-la-taille-d-un-tableau">Changement de la taille d’un tableau</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="visualisation.html">Visualisation et animation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tracer-plusieurs-courbes.html">Affichage de plusieurs tracés dans la même figure</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualisation-couleur.html">Visualisation d’une fonction de 2 variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="tracer-fonction-valeurs-complexes.html">Visualisation d’une fonction à valeurs complexes avec Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="animation-matplotlib.html">Animation avec matplotlib</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fft-fourier.html">Transformation de Fourier</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fft-introduction.html">Transformation de Fourier, FFT et DFT</a></li>
<li class="toctree-l2"><a class="reference internal" href="fft-introduction.html#approximation-de-la-transformee-de-fourier-grace-a-la-fft">Approximation de la transformée de Fourier grâce à la FFT</a></li>
<li class="toctree-l2"><a class="reference internal" href="fft-spatiale.html">Approximation de la transformée de Fourier spatiale grâce à la FFT</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="classes-et-objets.html">Classes et objets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="classes-et-objets.html#breve-introduction-a-la-programmation-orientee-objet">Brève introduction à la Programmation Orientée Objet</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes-et-objets.html#les-notions-de-classe-et-d-objet">Les notions de classe et d’objet</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes-et-objets.html#la-notion-d-encapsulation">La notion d’encapsulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes-et-objets.html#attributs-et-methodes-de-classe">Attributs et méthodes de classe</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="interface-graphique.html">Introduction à Qt5 et PyQt5</a><ul>
<li class="toctree-l2"><a class="reference internal" href="interfaces.html">Introduction aux interfaces graphiques en Python avec Qt 5 et PyQt5</a></li>
<li class="toctree-l2"><a class="reference internal" href="boutons.html">Premier bouton en Python avec Qt 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="composants.html">Composants graphiques usuels avec Qt 5</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pylab.html">Utilisation de PyLab</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction-pylab.html">Introduction à PyLab</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonctions_mathematiques.html">Fonctions mathématiques avec PyLab</a></li>
<li class="toctree-l2"><a class="reference internal" href="tableaux.html">Tableaux et calcul matriciel avec PyLab</a></li>
<li class="toctree-l2"><a class="reference internal" href="animations.html">Animation avec PyLab</a></li>
<li class="toctree-l2"><a class="reference internal" href="courbes_complexes.html">Visualisation d’une fonction à valeurs complexes avec PyLab</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fiches-pratiques.html">Fiches pratiques</a><ul>
<li class="toctree-l2"><a class="reference internal" href="derivee-fonction.html">Dérivée d’une fonction en Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="integration-numerique.html">Intégration numérique</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="annexes.html">Annexes</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="interface-graphique-pyqt4.html">Interfaces graphiques avec Qt4 et PyQt4</a></li>
<li class="toctree-l2"><a class="reference internal" href="TP-pi-Monte-Carlo.html">Calcul de <span class="math notranslate nohighlight">\(\pi\)</span> avec la méthode Monte-Carlo</a></li>
<li class="toctree-l2"><a class="reference internal" href="TP-quantique.html">TP Quantique - Valeurs propres et vecteurs propres</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bibliographie.html">Bibliographie</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bibliographie.html#manuels-d-initiation-a-la-programmation">Manuels d’initiation à la programmation</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="interface-graphique-pyqt4.html" title="Previous Chapter: Interfaces graphiques avec Qt4 et PyQt4"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Interfaces gr...</span>
    </a>
  </li>
  <li>
    <a href="boutons-pyqt4.html" title="Next Chapter: Premier bouton avec PyQt4"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Premier bouto... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            <form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Rechercher" />
 </div>
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
  <div class="col-md-3">
	<div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="bases-python.html">Bases de Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="apprendre-numpy.html">Introduction à NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="fonctions-mathematiques-numpy.html">Fonctions mathématiques</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction-courbes.html">Tracé de courbes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tableaux-numpy.html">Tableaux et calcul matriciel</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualisation.html">Visualisation et animation</a></li>
<li class="toctree-l1"><a class="reference internal" href="fft-fourier.html">Transformation de Fourier</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes-et-objets.html">Classes et objets</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface-graphique.html">Introduction à Qt5 et PyQt5</a></li>
<li class="toctree-l1"><a class="reference internal" href="pylab.html">Utilisation de PyLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="fiches-pratiques.html">Fiches pratiques</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="annexes.html">Annexes</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="interface-graphique-pyqt4.html">Interfaces graphiques avec Qt4 et PyQt4</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Les bases de la programmation des interfaces graphiques avec Qt4 et PyQt4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creation-d-une-premiere-fenetre">Création d’une première fenêtre</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creation-d-une-fenetre-personnalisee">Création d’une fenêtre personnalisée</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gestion-des-evenements-de-la-souris-dans-la-fenetre">Gestion des événements de la souris dans la fenêtre</a></li>
<li class="toctree-l4"><a class="reference internal" href="#utilisation-de-l-information-associee-a-un-evenement">Utilisation de l’information associée à un événement</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="boutons-pyqt4.html">Premier bouton avec PyQt4</a></li>
<li class="toctree-l3"><a class="reference internal" href="composants-pyqt4.html">Les composants graphiques usuels avec PyQt4</a></li>
<li class="toctree-l3"><a class="reference internal" href="qt-matplotlib.html">Qt4 et Matplotlib - Exemple complet</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bibliographie.html">Bibliographie</a></li>
</ul>

	</div>
  </div>
    <div class="col-md-9">
      
  <div class="section" id="les-bases-de-la-programmation-des-interfaces-graphiques-avec-qt4-et-pyqt4">
<h1>Les bases de la programmation des interfaces graphiques avec Qt4 et PyQt4<a class="headerlink" href="#les-bases-de-la-programmation-des-interfaces-graphiques-avec-qt4-et-pyqt4" title="Lien permanent vers ce titre">¶</a></h1>
<p>Nous allons étudier la programmation des interfaces graphiques (en anglais, on parle de GUI : Graphical User Interface) grâce à <a class="reference external" href="http://pyqt.sourceforge.net/Docs/PyQt4/">PyQt4</a> qui permet d’utiliser la bibliothèque <strong>Qt4</strong>.</p>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference external" href="http://pyqt.sourceforge.net/Docs/PyQt4/">http://pyqt.sourceforge.net/Docs/PyQt4/</a></p>
<p><a class="reference external" href="http://pyqt.sourceforge.net/Docs/PyQt4/classes.html">http://pyqt.sourceforge.net/Docs/PyQt4/classes.html</a></p>
</div>
<div class="section" id="creation-d-une-premiere-fenetre">
<h2>Création d’une première fenêtre<a class="headerlink" href="#creation-d-une-premiere-fenetre" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour créer une première fenêtre, on va utiliser la classe <a class="reference external" href="http://pyqt.sourceforge.net/Docs/PyQt4/qwidget.html">QWidget</a>.</p>
<p>Voici un programme très simple de création d’une fenêtre graphique.</p>
<p><strong>Exemple</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># importations a faire pour la realisation d&#39;une interface graphique</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QWidget</span>

<span class="c1"># Premiere etape : creation d&#39;une application Qt avec QApplication</span>
<span class="c1">#    afin d&#39;avoir un fonctionnement correct avec IDLE ou Canopy</span>
<span class="c1">#    on verifie s&#39;il existe deja une instance de QApplication</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span> 
<span class="k">if</span> <span class="ow">not</span> <span class="n">app</span><span class="p">:</span> <span class="c1"># sinon on cree une instance de QApplication</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

<span class="c1"># creation d&#39;une fenetre avec QWidget dont on place la reference dans fen</span>
<span class="n">fen</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>

<span class="c1"># la fenetre est rendue visible</span>
<span class="n">fen</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># execution de l&#39;application, l&#39;execution permet de gerer les evenements</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Exemple : On fixe la position et la taille de la fenêtre</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QWidget</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span> 
<span class="k">if</span> <span class="ow">not</span> <span class="n">app</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

<span class="n">fen</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>

<span class="c1"># on donne un titre a la fenetre</span>
<span class="n">fen</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Premiere fenetre&quot;</span><span class="p">)</span>

<span class="c1"># on fixe la taille de la fenetre</span>
<span class="n">fen</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">250</span><span class="p">)</span>

<span class="c1"># on fixe la position de la fenetre</span>
<span class="n">fen</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span>

<span class="n">fen</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Exemple : Création de deux fenêtres</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QWidget</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span> 
<span class="k">if</span> <span class="ow">not</span> <span class="n">app</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

<span class="n">fen1</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
<span class="n">fen1</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Fenetre 1&quot;</span><span class="p">)</span>
<span class="n">fen1</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">250</span><span class="p">)</span>
<span class="n">fen1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span>
<span class="n">fen1</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">fen2</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
<span class="n">fen2</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Fenetre 2&quot;</span><span class="p">)</span>
<span class="n">fen2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">300</span><span class="p">)</span>
<span class="n">fen2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="n">fen2</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="creation-d-une-fenetre-personnalisee">
<h2>Création d’une fenêtre personnalisée<a class="headerlink" href="#creation-d-une-fenetre-personnalisee" title="Lien permanent vers ce titre">¶</a></h2>
<p>Si nous voulons à présent que notre fenêtre dispose d’autres fonctionnalités que celles qui existent dans la classe <a class="reference external" href="http://pyqt.sourceforge.net/Docs/PyQt4/qwidget.html">QWidget</a>, il nous faut créer une classe dérivée pour laquelle nous pourrons ajouter des attributs et des méthodes supplémentaires.</p>
<p><strong>Exemple</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QWidget</span>

<span class="k">class</span> <span class="nc">Fenetre</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">QWidget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Ma fenetre&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span> 
<span class="k">if</span> <span class="ow">not</span> <span class="n">app</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
<span class="n">fen</span> <span class="o">=</span> <span class="n">Fenetre</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference external" href="http://pyqt.sourceforge.net/Docs/PyQt4/qwidget.html">http://pyqt.sourceforge.net/Docs/PyQt4/qwidget.html</a></p>
</div>
</div>
<div class="section" id="gestion-des-evenements-de-la-souris-dans-la-fenetre">
<h2>Gestion des événements de la souris dans la fenêtre<a class="headerlink" href="#gestion-des-evenements-de-la-souris-dans-la-fenetre" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour interagir avec l’utilisateur, nous allons devoir effectuer de la programmation événementielle. Il va ainsi s’agir de gérer les événements qui seront déclenchés par l’utilisateur (appui sur la souris, etc.).</p>
<p>Nous allons voir comment traiter l’événement que constitue un appui sur un bouton de la souris dans la fenêtre.</p>
<div class="section" id="gestion-de-l-appui-sur-un-bouton-de-la-souris-dans-la-fenetre">
<h3>Gestion de l’appui sur un bouton de la souris dans la fenêtre<a class="headerlink" href="#gestion-de-l-appui-sur-un-bouton-de-la-souris-dans-la-fenetre" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Exemple</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QWidget</span>

<span class="k">class</span> <span class="nc">Fenetre</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">QWidget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Ma fenetre&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;appui souris&quot;</span><span class="p">)</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span> 
<span class="k">if</span> <span class="ow">not</span> <span class="n">app</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
<span class="n">fen</span> <span class="o">=</span> <span class="n">Fenetre</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
<p>La méthode <code class="xref py py-meth docutils literal notranslate"><span class="pre">mousePressEvent()</span></code> est un gestionnaire d’événement (en anglais, event handler) qui est automatiquement appelé lors de l’appui sur un bouton de la souris. Il nous a donc suffit de redéfinir cette méthode de la classe <a class="reference external" href="http://pyqt.sourceforge.net/Docs/PyQt4/qwidget.html">QWidget</a> et d’y indiquer les instructions à exécuter pour gérer cet événement. Il faut noter que dans sa définition cette méthode doit pouvoir recevoir un argument (nous verrons plus loin l’utilisation de cet argument).</p>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference external" href="http://pyqt.sourceforge.net/Docs/PyQt4/qwidget.html#mousePressEvent">http://pyqt.sourceforge.net/Docs/PyQt4/qwidget.html#mousePressEvent</a></p>
</div>
</div>
<div class="section" id="liste-des-gestionnaires-d-evenements-issus-de-la-souris">
<h3>Liste des gestionnaires d’événements issus de la souris<a class="headerlink" href="#liste-des-gestionnaires-d-evenements-issus-de-la-souris" title="Lien permanent vers ce titre">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 34%" />
<col style="width: 66%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">mousePressEvent()</span></code></p></td>
<td><p>appui sur un bouton de la souris</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">mouseReleaseEvent()</span></code></p></td>
<td><p>relâchement d’un bouton de la souris</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">mouseDoubleClickEvent()</span></code></p></td>
<td><p>double clic sur un bouton de la souris</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">mouseMoveEvent()</span></code></p></td>
<td><p>mouvement de la souris (par défaut, quand un bouton est appuyé)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="utilisation-de-l-information-associee-a-un-evenement">
<h2>Utilisation de l’information associée à un événement<a class="headerlink" href="#utilisation-de-l-information-associee-a-un-evenement" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les arguments transmis aux méthodes qui gèrent les événements de la souris sont des objets de type <a class="reference external" href="http://pyqt.sourceforge.net/Docs/PyQt4/qmouseevent.html">QMouseEvent</a>. Un objet de cette classe est automatiquement créé par Python lors du déclenchement de l’événement. Cet objet contient de plus d’autres informations. En particulier pour un appui sur le bouton de la souris, il contient une information concernant le bouton qui a été appuyé. Cette information peut être récupérée grâce à la méthode <code class="xref py py-meth docutils literal notranslate"><span class="pre">button()</span></code>. Les valeurs prises peuvent être comparées avec les constantes prédéfinies ci-dessous :</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 51%" />
<col style="width: 49%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Qt.LeftButton</strong></p></td>
<td><p>bouton gauche</p></td>
</tr>
<tr class="row-even"><td><p><strong>Qt.RightButton</strong></p></td>
<td><p>bouton droit</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Qt.MidButton</strong></p></td>
<td><p>bouton du milieu</p></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QWidget</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtCore</span> <span class="kn">import</span> <span class="n">Qt</span>

<span class="k">class</span> <span class="nc">Fenetre</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">QWidget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Ma fenetre&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="p">()</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">LeftButton</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;appui bouton gauche&quot;</span><span class="p">)</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span> 
<span class="k">if</span> <span class="ow">not</span> <span class="n">app</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
<span class="n">fen</span> <span class="o">=</span> <span class="n">Fenetre</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
<p>De même, les coordonnées de la position du curseur de souris au moment de l’appui peuvent être obtenues au moyen des méthodes <code class="xref py py-meth docutils literal notranslate"><span class="pre">x()</span></code> et <code class="xref py py-meth docutils literal notranslate"><span class="pre">y()</span></code>.</p>
<p><strong>Exemple</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QWidget</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtCore</span> <span class="kn">import</span> <span class="n">Qt</span>

<span class="k">class</span> <span class="nc">Fenetre</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">QWidget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Ma fenetre&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="p">()</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">LeftButton</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;appui bouton gauche&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;position = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="p">())</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">()))</span>
            
<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span> 
<span class="k">if</span> <span class="ow">not</span> <span class="n">app</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
<span class="n">fen</span> <span class="o">=</span> <span class="n">Fenetre</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
<p>Dans le cas du gestionnaire <code class="xref py py-meth docutils literal notranslate"><span class="pre">mouseMoveEvent()</span></code>, il est possible d’activer le suivi des mouvements de la souris par la fenêtre même si aucun bouton n’est appuyé. Pour cela, il faut utiliser la méthode <code class="xref py py-meth docutils literal notranslate"><span class="pre">setMouseTracking(True)()</span></code> disponible pour la classe <a class="reference external" href="http://pyqt.sourceforge.net/Docs/PyQt4/qwidget.html">QWidget</a>.</p>
<p><strong>Exemple</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QWidget</span>

<span class="k">class</span> <span class="nc">Fenetre</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">QWidget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Ma fenetre&quot;</span><span class="p">)</span>

        <span class="c1"># activation du suivi du mouvement de la souris</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setMouseTracking</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">mouseMoveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;position = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="p">())</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">()))</span>
            
<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span> 
<span class="k">if</span> <span class="ow">not</span> <span class="n">app</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
<span class="n">fen</span> <span class="o">=</span> <span class="n">Fenetre</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference external" href="http://pyqt.sourceforge.net/Docs/PyQt4/qmouseevent.html">http://pyqt.sourceforge.net/Docs/PyQt4/qmouseevent.html</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Retour haut de page</a>
      
    </p>

   <p>

<a href="https://twitter.com/share" class="twitter-share-button" data-via="CoursPython" data-lang="fr">Tweeter</a>
<a href="https://twitter.com/CoursPython" class="twitter-follow-button" data-show-count="false" data-lang="fr">Suivre @CoursPython</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

    </p>
    <p>
          <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/3.0/fr/"><img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/3.0/fr/80x15.png" align="absmiddle"/></a> 2020, David Cassagne.
Création le 15 Oct 2012.
        Mis à jour le 06 sept. 2020.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.1.2.
    </p>
  </div>
</footer>
  </body>
</html>